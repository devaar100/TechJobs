{"ast":null,"code":"var _jsxFileName = \"/Users/aarnavjindal/WebstormProjects/techjobs/client/src/components/job-list.component.js\";\nimport React, { Component } from 'react';\nimport { Container, Row, Col, Pagination as RBPagination } from \"react-bootstrap\";\nimport PropTypes from \"prop-types\";\nimport axios from 'axios';\nimport * as _ from 'lodash';\nimport fire from \"../fire\"; // const URL = 'https://techjobs100.herokuapp.com/'\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst URL = 'http://localhost:4000/';\n\nconst Job = ({\n  job,\n  onEdit,\n  onView,\n  onAppSubmit,\n  isPersonal\n}) => {\n  const uid = fire.auth().currentUser.uid;\n  return /*#__PURE__*/_jsxDEV(Row, {\n    style: styles.container,\n    children: /*#__PURE__*/_jsxDEV(Col, {\n      children: [isPersonal && /*#__PURE__*/_jsxDEV(Row, {\n        style: { ...styles.text,\n          fontWeight: 'bold'\n        },\n        children: job.isAccepting ? 'Accepting right now' : 'Not accepting applications'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 32\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        style: styles.text,\n        children: [\"Company - \", job.company]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        style: styles.text,\n        children: [\"Profile - \", job.profile]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 17\n      }, this), !_.isEmpty(job.profileURL) && /*#__PURE__*/_jsxDEV(Row, {\n        style: styles.text,\n        children: [\"Profile URL - \", job.profileURL]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 48\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        style: styles.text,\n        children: [\"Open for - \", job.openFor]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        style: styles.text,\n        children: [\"Description - \", job.description]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flexDirection: 'row',\n          marginTop: 10\n        },\n        children: [job.postedBy !== fire.auth().currentUser.uid && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onAppSubmit(uid, job),\n          disabled: job.uids.includes(uid),\n          style: {\n            marginLeft: -16\n          },\n          className: \"btn btn-primary\",\n          children: job.uids.includes(uid) ? 'Applied' : 'Apply'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 25\n        }, this), job.postedBy === fire.auth().currentUser.uid && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              marginLeft: -16\n            },\n            onClick: () => onEdit(job),\n            className: \"btn btn-danger\",\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              marginLeft: 16\n            },\n            onClick: () => onView(job._id),\n            className: \"btn btn-info\",\n            children: \"View applications\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 13\n    }, this)\n  }, job.id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 9\n  }, this);\n};\n\n_c = Job;\nconst propTypes = {\n  items: PropTypes.array.isRequired,\n  onChangePage: PropTypes.func.isRequired,\n  initialPage: PropTypes.number\n};\nconst defaultProps = {\n  initialPage: 1\n};\n\nclass Pagination extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pager: {}\n    };\n  }\n\n  componentWillMount() {\n    // set page if items array isn't empty\n    if (this.props.items && this.props.items.length) {\n      this.setPage(this.props.initialPage);\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // reset page if items array has changed\n    if (this.props.items !== prevProps.items) {\n      this.setPage(this.props.initialPage);\n    }\n  }\n\n  setPage(page) {\n    const items = this.props.items; // get new pager object for specified page\n\n    const pager = this.getPager(items.length, page, 5);\n\n    if (page < 1 || page > pager.totalPages) {\n      return;\n    } // get new page of items from items array\n\n\n    const pageOfItems = items.slice(pager.startIndex, pager.endIndex + 1); // update state\n\n    this.setState({\n      pager: pager\n    }); // call change page function in parent component\n\n    this.props.onChangePage(pageOfItems);\n  }\n\n  getPager(totalItems, currentPage, pageSize) {\n    // default to first page\n    currentPage = currentPage || 1; // default page size is 10\n\n    pageSize = pageSize || 10; // calculate total pages\n\n    const totalPages = Math.ceil(totalItems / pageSize);\n    let startPage, endPage;\n\n    if (totalPages <= 10) {\n      // less than 10 total pages so show all\n      startPage = 1;\n      endPage = totalPages;\n    } else {\n      // more than 10 total pages so calculate start and end pages\n      if (currentPage <= 6) {\n        startPage = 1;\n        endPage = 10;\n      } else if (currentPage + 4 >= totalPages) {\n        startPage = totalPages - 9;\n        endPage = totalPages;\n      } else {\n        startPage = currentPage - 5;\n        endPage = currentPage + 4;\n      }\n    } // calculate start and end item indexes\n\n\n    const startIndex = (currentPage - 1) * pageSize;\n    const endIndex = Math.min(startIndex + pageSize - 1, totalItems - 1); // create an array of pages to ng-repeat in the pager control\n\n    const pages = [...Array(endPage + 1 - startPage).keys()].map(i => startPage + i); // return object with all pager properties required by the view\n\n    return {\n      totalItems: totalItems,\n      currentPage: currentPage,\n      pageSize: pageSize,\n      totalPages: totalPages,\n      startPage: startPage,\n      endPage: endPage,\n      startIndex: startIndex,\n      endIndex: endIndex,\n      pages: pages\n    };\n  }\n\n  render() {\n    const pager = this.state.pager;\n\n    if (!pager.pages || pager.pages.length <= 1) {\n      // don't display pager if there is only 1 page\n      return null;\n    }\n\n    return /*#__PURE__*/_jsxDEV(RBPagination, {\n      size: \"lg\",\n      children: [/*#__PURE__*/_jsxDEV(RBPagination.First, {\n        onClick: () => this.setPage(1),\n        disabled: pager.currentPage === 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(RBPagination.Prev, {\n        onClick: () => this.setPage(pager.currentPage - 1),\n        disabled: pager.currentPage === 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 17\n      }, this), pager.pages.map((page, index) => /*#__PURE__*/_jsxDEV(RBPagination.Item, {\n        onClick: () => this.setPage(page),\n        active: pager.currentPage === page,\n        children: page\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 21\n      }, this)), /*#__PURE__*/_jsxDEV(RBPagination.Next, {\n        onClick: () => this.setPage(pager.currentPage + 1),\n        disabled: pager.currentPage === pager.totalPages\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(RBPagination.Last, {\n        onClick: () => this.setPage(pager.totalPages),\n        disabled: pager.currentPage === pager.totalPages\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nPagination.propTypes = propTypes;\nPagination.defaultProps = defaultProps;\nexport default class JobList extends Component {\n  componentDidMount() {\n    axios.get(`${URL}jobs/`).then(response => {\n      console.log(response);\n      this.setState({\n        visibleItems: response.data.filter(job => job.isAccepting),\n        jobs: response.data,\n        loading: false\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      pageOfItems: [],\n      jobs: [],\n      visibleItems: [],\n      showAll: true\n    };\n    this.onChangePage = this.onChangePage.bind(this);\n    this.onEdit = this.onEdit.bind(this);\n    this.onView = this.onView.bind(this);\n    this.onAppSubmit = this.onAppSubmit.bind(this);\n  }\n\n  onChangePage(pageOfItems) {\n    this.setState({\n      pageOfItems: pageOfItems\n    });\n  }\n\n  onEdit(job) {\n    this.props.history.push({\n      pathname: '/job',\n      state: {\n        job\n      }\n    });\n  }\n\n  onView(id) {\n    this.props.history.push({\n      pathname: '/all',\n      state: {\n        id\n      }\n    });\n  }\n\n  showAll(type) {\n    if (type) {\n      this.setState({\n        visibleItems: this.state.jobs.filter(job => job.isAccepting),\n        showAll: true\n      });\n    } else {\n      const uid = fire.auth().currentUser.uid;\n      this.setState({\n        visibleItems: this.state.jobs.filter(job => job.postedBy === uid),\n        showAll: false\n      });\n    }\n  }\n\n  onAppSubmit(uid, refJob) {\n    const newJob = Object.assign({}, refJob);\n    newJob.uids.push(uid);\n    const jobs = this.state.jobs.map(job => {\n      if (job._id === refJob._id) {\n        return newJob;\n      } else {\n        return job;\n      }\n    });\n    const visibleItems = this.state.visibleItems.map(job => {\n      if (job._id === refJob._id) {\n        return newJob;\n      } else {\n        return job;\n      }\n    });\n    this.setState({\n      jobs: jobs,\n      visibleItems: visibleItems\n    });\n    axios.post(`${URL}jobs/apply/` + uid, newJob).then(res => {\n      console.log(res.data);\n\n      if (res.data === 'Profile incomplete') {\n        alert('Could not apply. Your profile section is incomplete.');\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        fluid: true,\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          className: \"justify-content-center\",\n          style: {\n            padding: 20\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              borderRadius: 15,\n              backgroundColor: 'orange'\n            },\n            onClick: () => this.showAll(true),\n            className: \"btn\",\n            children: \"All Postings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: 40\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              borderRadius: 15,\n              backgroundColor: 'orange'\n            },\n            onClick: () => this.showAll(false),\n            className: \"btn\",\n            children: \"My Postings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: 40\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              borderRadius: 15\n            },\n            onClick: () => this.onEdit(null),\n            className: \"btn btn-success\",\n            children: \"Add Posting\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"justify-content-center\",\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            sm: 12,\n            md: 6,\n            children: this.state.visibleItems.length ? this.state.pageOfItems.map((item, index) => /*#__PURE__*/_jsxDEV(Job, {\n              job: item,\n              index: index,\n              isPersonal: !this.state.showAll,\n              onAppSubmit: this.onAppSubmit,\n              onView: this.onView,\n              onEdit: this.onEdit\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 37\n            }, this)) : /*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"No jobs available right now !\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"justify-content-center\",\n          style: {\n            paddingTop: 30,\n            paddingBottom: 50\n          },\n          children: this.state.visibleItems.length ? /*#__PURE__*/_jsxDEV(Pagination, {\n            items: this.state.visibleItems,\n            onChangePage: this.onChangePage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 29\n          }, this) : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 17\n      }, this)\n    }, void 0, false);\n  }\n\n}\nconst styles = {\n  container: {\n    marginTop: 15,\n    marginBottom: 15,\n    borderStyle: \"solid\",\n    borderWidth: 1,\n    borderRadius: 5,\n    borderColor: \"#cccccc\",\n    paddingTop: 15,\n    paddingBottom: 15,\n    paddingLeft: 25,\n    paddingRight: 25\n  },\n  text: {\n    fontSize: 18\n  },\n  icon: {\n    marginTop: 10,\n    marginRight: 10\n  }\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"Job\");","map":{"version":3,"sources":["/Users/aarnavjindal/WebstormProjects/techjobs/client/src/components/job-list.component.js"],"names":["React","Component","Container","Row","Col","Pagination","RBPagination","PropTypes","axios","_","fire","URL","Job","job","onEdit","onView","onAppSubmit","isPersonal","uid","auth","currentUser","styles","container","text","fontWeight","isAccepting","company","profile","isEmpty","profileURL","openFor","description","flexDirection","marginTop","postedBy","uids","includes","marginLeft","_id","id","propTypes","items","array","isRequired","onChangePage","func","initialPage","number","defaultProps","constructor","props","state","pager","componentWillMount","length","setPage","componentDidUpdate","prevProps","prevState","page","getPager","totalPages","pageOfItems","slice","startIndex","endIndex","setState","totalItems","currentPage","pageSize","Math","ceil","startPage","endPage","min","pages","Array","keys","map","i","render","index","JobList","componentDidMount","get","then","response","console","log","visibleItems","data","filter","jobs","loading","catch","error","showAll","bind","history","push","pathname","type","refJob","newJob","Object","assign","post","res","alert","padding","borderRadius","backgroundColor","width","item","paddingTop","paddingBottom","marginBottom","borderStyle","borderWidth","borderColor","paddingLeft","paddingRight","fontSize","icon","marginRight"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n    Container,\n    Row, Col,\n    Pagination as RBPagination\n} from \"react-bootstrap\"\nimport PropTypes from \"prop-types\"\nimport axios from 'axios';\nimport * as _ from 'lodash';\nimport fire from \"../fire\";\n// const URL = 'https://techjobs100.herokuapp.com/'\nconst URL = 'http://localhost:4000/'\n\nconst Job = ({ job, onEdit, onView, onAppSubmit, isPersonal }) => {\n\n    const uid = fire.auth().currentUser.uid\n\n    return (\n        <Row style={styles.container} key={job.id}>\n            <Col>\n                {isPersonal && <Row style={{...styles.text, fontWeight: 'bold'}}>{job.isAccepting ? 'Accepting right now' : 'Not accepting applications'}</Row>}\n                <Row style={styles.text}>Company - {job.company}</Row>\n                <Row style={styles.text}>Profile - {job.profile}</Row>\n                {!_.isEmpty(job.profileURL) && <Row style={styles.text}>Profile URL - {job.profileURL}</Row>}\n                <Row style={styles.text}>Open for - {job.openFor}</Row>\n                <Row style={styles.text}>Description - {job.description}</Row>\n                <div style={{flexDirection: 'row', marginTop: 10}}>\n                    {job.postedBy!==fire.auth().currentUser.uid &&\n                        <button\n                            onClick={() => onAppSubmit(uid, job)}\n                            disabled={job.uids.includes(uid)}\n                            style={{marginLeft: -16}}\n                            className=\"btn btn-primary\">{job.uids.includes(uid) ? 'Applied': 'Apply'}</button>\n                    }\n                    {job.postedBy===fire.auth().currentUser.uid &&\n                        <>\n                            <button\n                                style={{marginLeft: -16}}\n                                onClick={() => onEdit(job)}\n                                className=\"btn btn-danger\">Edit</button>\n                            <button\n                                style={{marginLeft: 16}}\n                                onClick={() => onView(job._id)}\n                                className=\"btn btn-info\">View applications</button>\n                        </>\n                    }\n                </div>\n            </Col>\n        </Row>\n    )\n}\n\nconst propTypes = {\n    items: PropTypes.array.isRequired,\n    onChangePage: PropTypes.func.isRequired,\n    initialPage: PropTypes.number\n}\n\nconst defaultProps = {\n    initialPage: 1\n}\n\nclass Pagination extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {pager: {}};\n    }\n\n    componentWillMount() {\n        // set page if items array isn't empty\n        if (this.props.items && this.props.items.length) {\n            this.setPage(this.props.initialPage);\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        // reset page if items array has changed\n        if (this.props.items !== prevProps.items) {\n            this.setPage(this.props.initialPage);\n        }\n    }\n\n    setPage(page) {\n        const items = this.props.items;\n        // get new pager object for specified page\n        const pager = this.getPager(items.length, page, 5);\n\n        if (page < 1 || page > pager.totalPages) {\n            return;\n        }\n\n        // get new page of items from items array\n        const pageOfItems = items.slice(pager.startIndex, pager.endIndex + 1);\n\n        // update state\n        this.setState({pager: pager});\n\n        // call change page function in parent component\n        this.props.onChangePage(pageOfItems);\n    }\n\n    getPager(totalItems, currentPage, pageSize) {\n        // default to first page\n        currentPage = currentPage || 1;\n\n        // default page size is 10\n        pageSize = pageSize || 10;\n\n        // calculate total pages\n        const totalPages = Math.ceil(totalItems / pageSize);\n\n        let startPage, endPage;\n        if (totalPages <= 10) {\n            // less than 10 total pages so show all\n            startPage = 1;\n            endPage = totalPages;\n        } else {\n            // more than 10 total pages so calculate start and end pages\n            if (currentPage <= 6) {\n                startPage = 1;\n                endPage = 10;\n            } else if (currentPage + 4 >= totalPages) {\n                startPage = totalPages - 9;\n                endPage = totalPages;\n            } else {\n                startPage = currentPage - 5;\n                endPage = currentPage + 4;\n            }\n        }\n\n        // calculate start and end item indexes\n        const startIndex = (currentPage - 1) * pageSize;\n        const endIndex = Math.min(startIndex + pageSize - 1, totalItems - 1);\n\n        // create an array of pages to ng-repeat in the pager control\n        const pages = [...Array((endPage + 1) - startPage).keys()].map(i => startPage + i);\n\n        // return object with all pager properties required by the view\n        return {\n            totalItems: totalItems,\n            currentPage: currentPage,\n            pageSize: pageSize,\n            totalPages: totalPages,\n            startPage: startPage,\n            endPage: endPage,\n            startIndex: startIndex,\n            endIndex: endIndex,\n            pages: pages\n        };\n    }\n\n    render() {\n        const pager = this.state.pager;\n\n        if (!pager.pages || pager.pages.length <= 1) {\n            // don't display pager if there is only 1 page\n            return null;\n        }\n\n        return (\n            <RBPagination size=\"lg\">\n                <RBPagination.First\n                    onClick={() => this.setPage(1)}\n                    disabled={pager.currentPage === 1}/>\n                <RBPagination.Prev\n                    onClick={() => this.setPage(pager.currentPage - 1)}\n                    disabled={pager.currentPage === 1}/>\n                {pager.pages.map((page, index) =>\n                    <RBPagination.Item\n                        onClick={() => this.setPage(page)}\n                        key={index}\n                        active={pager.currentPage === page}>\n                        {page}\n                    </RBPagination.Item>\n                )}\n                <RBPagination.Next\n                    onClick={() => this.setPage(pager.currentPage + 1)}\n                    disabled={pager.currentPage === pager.totalPages}/>\n                <RBPagination.Last\n                    onClick={() => this.setPage(pager.totalPages)}\n                    disabled={pager.currentPage === pager.totalPages}/>\n            </RBPagination>\n        );\n    }\n}\n\nPagination.propTypes = propTypes;\nPagination.defaultProps = defaultProps;\n\nexport default class JobList extends Component {\n\n    componentDidMount() {\n        axios.get(`${URL}jobs/`)\n            .then(response => {\n                console.log(response)\n                this.setState({\n                    visibleItems: response.data.filter(job => job.isAccepting),\n                    jobs: response.data,\n                    loading: false,\n                })\n            })\n            .catch(function (error){\n                console.log(error);\n            })\n    }\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            loading: true,\n            pageOfItems: [],\n            jobs: [],\n            visibleItems: [],\n            showAll: true\n        };\n\n        this.onChangePage = this.onChangePage.bind(this);\n        this.onEdit = this.onEdit.bind(this);\n        this.onView = this.onView.bind(this);\n        this.onAppSubmit = this.onAppSubmit.bind(this);\n    }\n\n    onChangePage(pageOfItems) {\n        this.setState({pageOfItems: pageOfItems});\n    }\n\n    onEdit(job) {\n        this.props.history.push({\n            pathname: '/job',\n            state: {\n                job\n            }\n        })\n    }\n\n    onView(id) {\n        this.props.history.push({\n            pathname: '/all',\n            state: {\n                id\n            }\n        })\n    }\n\n    showAll(type) {\n        if(type) {\n            this.setState({\n                visibleItems: this.state.jobs.filter(job => job.isAccepting),\n                showAll: true\n            })\n        } else {\n            const uid = fire.auth().currentUser.uid\n            this.setState({\n                visibleItems: this.state.jobs.filter(job => job.postedBy===uid),\n                showAll: false\n            })\n        }\n    }\n\n    onAppSubmit(uid, refJob) {\n        const newJob = Object.assign({}, refJob)\n        newJob.uids.push(uid)\n\n        const jobs = this.state.jobs.map(job => {\n            if(job._id === refJob._id) {\n                return newJob\n            } else {\n                return job\n            }\n        })\n\n        const visibleItems = this.state.visibleItems.map(job => {\n            if(job._id === refJob._id) {\n                return newJob\n            } else {\n                return job\n            }\n        })\n\n        this.setState({\n            jobs: jobs,\n            visibleItems: visibleItems\n        })\n\n        axios.post(`${URL}jobs/apply/` + uid, newJob).then(res => {\n            console.log(res.data)\n            if(res.data === 'Profile incomplete') {\n                alert('Could not apply. Your profile section is incomplete.')\n            }\n        });\n    }\n\n    render() {\n        return (\n            <>\n                <Container fluid>\n                    <Row className=\"justify-content-center\" style={{padding: 20}}>\n                        <button style={{borderRadius: 15, backgroundColor: 'orange'}} onClick={() => this.showAll(true)} className=\"btn\">All Postings</button>\n                        <div style={{width: 40}}/>\n                        <button style={{borderRadius: 15, backgroundColor: 'orange'}} onClick={() => this.showAll(false)} className=\"btn\">My Postings</button>\n                        <div style={{width: 40}}/>\n                        <button style={{borderRadius: 15}} onClick={() => this.onEdit(null)} className=\"btn btn-success\">Add Posting</button>\n                    </Row>\n                    <Row className=\"justify-content-center\">\n                        <Col sm={12} md={6}>\n                            {this.state.visibleItems.length ? this.state.pageOfItems.map((item, index) =>\n                                    <Job job={item} index={index}\n                                         isPersonal={!this.state.showAll}\n                                         onAppSubmit={this.onAppSubmit}\n                                         onView={this.onView}\n                                         onEdit={this.onEdit}/> ) :\n                                <h5>No jobs available right now !</h5>\n                            }\n                        </Col>\n                    </Row>\n                    <Row className=\"justify-content-center\" style={{paddingTop: 30, paddingBottom: 50}}>\n                        {this.state.visibleItems.length ?\n                            <Pagination\n                                items={this.state.visibleItems}\n                                onChangePage={this.onChangePage}/> : null\n                        }\n                    </Row>\n                </Container>\n            </>\n        );\n    }\n}\n\nconst styles = {\n    container: {\n        marginTop: 15,\n        marginBottom: 15,\n        borderStyle: \"solid\",\n        borderWidth: 1,\n        borderRadius: 5,\n        borderColor: \"#cccccc\",\n        paddingTop: 15,\n        paddingBottom: 15,\n        paddingLeft: 25,\n        paddingRight: 25\n    },\n    text: {\n        fontSize: 18\n    },\n    icon: {\n        marginTop: 10,\n        marginRight: 10\n    }\n}\n"]},"metadata":{},"sourceType":"module"}